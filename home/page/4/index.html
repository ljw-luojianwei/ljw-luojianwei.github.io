<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;luojianwei.top&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Gemini&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="罗建伟的个人主页">
<meta property="og:url" content="https://luojianwei.top/home/page/4/index.html">
<meta property="og:site_name" content="罗建伟的个人主页">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="罗建伟的个人博客">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://luojianwei.top/home/page/4/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:&quot;&quot;,&quot;permalink&quot;:&quot;&quot;,&quot;path&quot;:&quot;home&#x2F;page&#x2F;4&#x2F;index.html&quot;,&quot;title&quot;:&quot;&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>罗建伟的个人主页</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">罗建伟的个人主页</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">明确自己的内心所求，才能更好地解决问题</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/home/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">罗建伟的个人博客</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%8D%81-Ninja%E6%8F%90%E5%8D%87%E7%BC%96%E8%AF%91%E9%80%9F%E5%BA%A6%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%8D%81-Ninja%E6%8F%90%E5%8D%87%E7%BC%96%E8%AF%91%E9%80%9F%E5%BA%A6%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Android Q 编译原理之十 Ninja提升编译速度的方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-08 10:40:44" itemprop="dateCreated datePublished" datetime="2021-07-08T10:40:44+08:00">2021-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E4%B9%9D-Ninja%E7%AE%80%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E4%B9%9D-Ninja%E7%AE%80%E4%BB%8B/" class="post-title-link" itemprop="url">Android Q 编译原理之九 Ninja简介</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-08 10:40:22" itemprop="dateCreated datePublished" datetime="2021-07-08T10:40:22+08:00">2021-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%85%AB-Android-bp-%E8%AF%AD%E6%B3%95%E6%B5%85%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%85%AB-Android-bp-%E8%AF%AD%E6%B3%95%E6%B5%85%E6%9E%90/" class="post-title-link" itemprop="url">Android Q 编译原理之八 Android.bp 语法浅析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-08 10:39:58" itemprop="dateCreated datePublished" datetime="2021-07-08T10:39:58+08:00">2021-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E4%B8%83-Blueprint%E4%BB%A3%E7%A0%81%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E4%B8%83-Blueprint%E4%BB%A3%E7%A0%81%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">Android Q 编译原理之七 Blueprint代码详细分析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-08 10:39:21" itemprop="dateCreated datePublished" datetime="2021-07-08T10:39:21+08:00">2021-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%85%AD-Blueprint%E7%AE%80%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/08/Android-Q-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E5%85%AD-Blueprint%E7%AE%80%E4%BB%8B/" class="post-title-link" itemprop="url">Android Q 编译原理之六 Blueprint简介</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-08 10:38:35" itemprop="dateCreated datePublished" datetime="2021-07-08T10:38:35+08:00">2021-07-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E5%9B%9B-Gerrit%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%A0%B8%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E5%9B%9B-Gerrit%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%A0%B8%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Android 源码管理之四 Gerrit代码审核服务器搭建与使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-25 11:20:17 / 修改时间：14:52:38" itemprop="dateCreated datePublished" datetime="2021-06-25T11:20:17+08:00">2021-06-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p style="text-indent:2em">Google 的 AOSP 在 Git 的使用上有两个重要的创新，一个是为多版本库协同而引入的 repo，另外一个重要的创新就是 Gerrit —— 代码审核服务器。Gerrit 为 git 引入的代码审核是强制性的，就是说除非特别的授权设置，向 Git 版本库的推送(Push)必须要经过 Gerrit 服务器，修订必须经过代码审核的一套工作流之后，才可能经批准并纳入正式代码库中。</p>

<h3 id="Gerrit简介"><a href="#Gerrit简介" class="headerlink" title="Gerrit简介"></a>Gerrit简介</h3><p style="text-indent:2em">Gerrit，一种免费、开放源代码的代码审查软件，使用网页界面。利用网页浏览器，同一个团队的软件程序员，可以相互审阅彼此修改后的程序代码，决定是否能够提交，退回或者继续修改。它使用Git作为底层版本控制系统。它的作者为Google公司的Shawn Pearce，原先是为了管理Android计划而产生，它的名称来自于荷兰设计师赫里特·里特费尔德(Gerrit Rietveld)。最早它是由Python写成，在第二版后，改成用Java与SQL。使用Google Web Toolkit来产生前端的Java。</p>

<h3 id="Gerrit工作原理和流程"><a href="#Gerrit工作原理和流程" class="headerlink" title="Gerrit工作原理和流程"></a>Gerrit工作原理和流程</h3><p style="text-indent:2em">首先贡献者的代码通过 git 命令(或git review封装)推送到 Gerrit 管理下的 Git 版本库，推送的提交转化为一个一个的代码审核任务，审核任务可以通过 refs/changes/下的引用访问到。代码审核者可以通过 Web 界面查看审核任务、代码变更，通过 Web 界面做出通过代码审核或者打回等决定。测试者也可以通过 refs/changes/引用获取(fetch)修订对其进行测试，如果测试通过就可以将该评审任务设置为校验通过(verified)。最后经过了审核和校验的修订可以通过 Gerrit 界面中提交动作合并到版本库对应的分支中。更详细的流程描述见下图所示： </p>

<p><img src="/.top//20151029180320488" alt="这里写图片描述"></p>
<h3 id="Gerrit安装与配置"><a href="#Gerrit安装与配置" class="headerlink" title="Gerrit安装与配置"></a>Gerrit安装与配置</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%B8%89-repo%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%B8%89-repo%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">Android 源码项目管理之一 repo项目管理工具</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-25 11:19:38" itemprop="dateCreated datePublished" datetime="2021-06-25T11:19:38+08:00">2021-06-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-24 18:27:32" itemprop="dateModified" datetime="2021-08-24T18:27:32+08:00">2021-08-24</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000017317513">概要</a></h3><p style="text-indent:2em">Android项目是由数百个git仓库组成的，它有非常多的分支。仅仅是下载这么多git库就是一项繁重的任务，所以在下载源码时，Android就引入了repo。repo是Google为了方便管理Android项目的多个git库而开发的Python脚本工具，主要是用来下载、管理多个Git仓库。假如不用repo进行统一管理的话，就说基本的下载Android源码，难道要一个个的写每个仓库的url？然后下载完单独的配置每个仓库？单独初始化什么的？显然比较麻烦。repo 其实就是把相关的git操作命令进行了封装，方便一下操作好几个git仓库。repo的出现，并非为了取代git，而是为了让Android开发者更为有效的利用git。Android官方推荐下载repo的方法是通过curl命令下载repo的引导脚本，下载完后，为repo引导脚本添加可执行权限：</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo</span><br><span class="line">$ chmod a+x ~/bin/repo</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">由于国内Google访问受限，所以上述命令不一定能下载成功。其实，我们现在可以从很多第三方渠道找到repo引导脚本，可以使用wget，curl甚至浏览器从http://android.git.kernel.org/repo上下载，只需要取下来，把repo引导脚本设置为可执行，并复制到可执行的路径中，确保repo引导脚本可以正确执行即可。在Linux上可以用下面的指令将repo引导下载并复制到根目录的bin目录下。</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -L -k http://android.git.kernel.org/repo &gt; /bin/repo</span><br><span class="line">$ chmod a+x ~/bin/repo</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">这里的repo只是一个引导脚本而不是直接称之为repo，因为repo大部分功能代码都不在其中，下载的只是帮助整个repo程序继续下载和加载的工具。下载并保存repo引导脚本后，一般来说为了方便管理，建立一个用合适名称的目录，这个目录将作为Android工作区目录。在工作目录中执行repo init -u &lturl&gt [&ltOPTIONS&gt]命令，完成repo完整的下载及项目清单版本库的下载。</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir working-directory-name</span><br><span class="line">$ <span class="built_in">cd</span> working-directory-name</span><br><span class="line">$ repo init -u git://android.git.kernel.org/platform/manifest.git</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">初始化repo工具脚本，并且从服务器端克隆manifest，这个manifest很关键，repo就是按照它来管理多个git仓库的。repo init -u URL  -b branch_name这里最常用的URL就用公司的服务端地址, branch_name就是你下载的代码的分支的名字，因为公司肯定会同时维护好几个分支的代码用于开发。这个命令就相当于对repo配置和repo脚本集进行git pull，但是它还额外做了更多的事情。与清单库相关的参数：-u设定清单库的git服务器地址，它指定一个url然后连接到一个manifest库，这个manifest库里面会有所有分支的manifest文件。 -b选择manifest仓库的一个特殊的分支。-m选择manifest仓库中的某一个，当有很多个的时候默认default.xml。--mirror只在repo第一次初始化的时候调用，以和Android服务器同样的结构在本地建立镜像。最终此命令完成repo工具的完整下载，克隆url对应的清单文件克隆到本地的.repo/manifest.xml当中。注意 它只是一个链接符号，指向了.repo/manifets/default.xml。你要是用-m指向了别处，那么就会连接到对应的.repo/manifests/xxxxx.xml的manifest当中。其实，如果不使用repo工具，也是可以对照manifest.xml文件清单直接使用“git clone”的方式一个project一个project的下载的，然后对每个project进行git checkout特定的分支。

</p><h3 id="repo的使用过程"><a href="#repo的使用过程" class="headerlink" title="repo的使用过程"></a>repo的使用过程</h3><p>1.运行repo init 命令，克隆Android的一个清单库，这个清单库是通过xml技术建立的版本清单库。清单库中的manifest.xml文件，列出了组成Android项目的数百个版本库的克隆方式。包括版本库的地址和工作区地址的对应关系，以及分支的对应关系。清单库实际上只包含一个default.xml文件，这个XML文件定义了多个版本库和本地地址的映射关系，是repo工作的指引文件，所以在使用repo引导脚本进行初始化的时候，必须通过-u参数指定清单库的源地址。命令repo init要完成如下操作：完成repo工具的完整下载，现在仅有的不过是repo 的引导程序，克隆repo.git库到当前的目录下.repo/repo目录下。在完成repo.git克隆之后，repo init命令会将控制权交给工作区的.repo/repo/main.py。克隆android的清单库manifest.git(地址来自于-u参数)，克隆的清单库位于.repo/manifests.git中，本地克隆到.repo/manifests。询问用户的姓名和邮件地址，如果和git默认的用户名，邮件地址不同，则记录在./repo/manifests.git库的config文件中。命令repo init还可以附带–mirror参数，以建立和Android的版本库一模一样的镜像。</p>
<p>2.运行repo sync的命令，开始同步，即分别克隆这数百个版本库到本地的工作区中。同时对数百个版本库进行切换分支操作，切换到某个分支。 对于Android，这个操作需要通过网络传递接近GB级的内容，我们可以在repo sync后面跟上需要的项目的名称，项目的名称来自.repo/manifest.xml这个XML文件中project元素的name属性值。例如克隆platform/build项目：repo sync platform/build</p>
<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><p style="text-indent:2em">repo需要关注当前git库的数量、名称、路径等，有了这些基本信息，才能对这些git库进行操作。通过集中维护所有git库的清单，repo可以方便的从清单中获取git库的信息。 这份清单会随着版本演进升级而产生变化，同时也有一些本地的修改定制需求，所以，repo是通过一个git库来管理项目的清单文件的，这个git库名字叫manifests。</p>

<p style="text-indent:2em">当打开repo这个可执行的python脚本后，发现代码量并不大(不超过1000行)，难道仅这一个脚本就完成了AOSP数百个git库的管理吗？并非如此。 repo是一系列脚本的集合，这些脚本也是通过git库来维护的，这个git库名字叫repo。</p>

<p style="text-indent:2em">在客户端使用repo初始化一个项目时，就会从远程把manifests和repo这两个git库拷贝到本地，但这对于Android开发人员来说，又是近乎无形的(一般通过文件管理器，是无法看到这两个git库的)。 repo将自动化的管理信息都隐藏根目录的.repo子目录中。</p>

<h3 id="项目清单库-repo-manifests"><a href="#项目清单库-repo-manifests" class="headerlink" title="项目清单库(.repo/manifests)"></a>项目清单库(.repo/manifests)</h3><p style="text-indent:2em">AOSP项目清单git库下，只有一个文件default.xml，是一个标准的XML，描述了当前repo管理的所有信息。 AOSP的default.xml的文件内容如下：</p>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">remote</span>  <span class="attr">name</span>=<span class="string">&quot;aosp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">fetch</span>=<span class="string">&quot;..&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">review</span>=<span class="string">&quot;https://android-review.googlesource.com/&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">default</span> <span class="attr">revision</span>=<span class="string">&quot;master&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">remote</span>=<span class="string">&quot;aosp&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">sync-j</span>=<span class="string">&quot;4&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project</span> <span class="attr">path</span>=<span class="string">&quot;build/make&quot;</span> <span class="attr">name</span>=<span class="string">&quot;platform/build&quot;</span> <span class="attr">groups</span>=<span class="string">&quot;pdk,tradefed&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">copyfile</span> <span class="attr">src</span>=<span class="string">&quot;core/root.mk&quot;</span> <span class="attr">dest</span>=<span class="string">&quot;Makefile&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project</span> <span class="attr">path</span>=<span class="string">&quot;art&quot;</span> <span class="attr">name</span>=<span class="string">&quot;platform/art&quot;</span> <span class="attr">groups</span>=<span class="string">&quot;pdk&quot;</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">project</span> <span class="attr">path</span>=<span class="string">&quot;tools/studio/translation&quot;</span> <span class="attr">name</span>=<span class="string">&quot;platform/tools/studio/translation&quot;</span> <span class="attr">groups</span>=<span class="string">&quot;notdefault,tools&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project</span> <span class="attr">path</span>=<span class="string">&quot;tools/swt&quot;</span> <span class="attr">name</span>=<span class="string">&quot;platform/tools/swt&quot;</span> <span class="attr">groups</span>=<span class="string">&quot;notdefault,tools&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p style="text-indent:2em"><font color="#00dd00">&ltremote&gt</font>：描述了远程仓库的基本信息。name描述的是一个远程仓库的名称，通常我们看到的命名是origin；fetch用作项目名称的前缘，在构造项目仓库远程地址时使用到；review描述的是用作code review的server地址。</p>

<p style="text-indent:2em"><font color="#00dd00">&ltdefault&gt</font>：default标签中定义的属性，将作为<font color="#00dd00">&ltproject&gt</font>标签的默认属性，在<font color="#00dd00">&ltproject&gt</font>标签中，也可以重写这些属性。属性revision表示当前的版本，也就是我们俗称的分支；属性remote描述的是默认使用的远程仓库名称，即<font color="#00dd00">&ltremote&gt</font>标签中name的属性值；属性sync-j表示在同步远程代码时，并发的任务数量，配置高的机器可以将这个值调大。</p>

<p style="text-indent:2em"><font color="#00dd00">&ltproject&gt</font>：每一个repo管理的git库，就是对应到一个<font color="#00dd00">&ltproject&gt</font>标签，path描述的是项目相对于远程仓库URL的路径，同时将作为对应的git库在本地代码的路径; name用于定义项目名称，命名方式采用的是整个项目URL的相对地址。譬如，AOSP项目的URL为<a target="_blank" rel="noopener" href="https://android.googlesource.com/">https://android.googlesource....</a>，命名为platform/build的git库，访问的URL就是<a target="_blank" rel="noopener" href="https://android.googlesource.com/platform/build">https://android.googlesource....</a></p>

<p style="text-indent:2em">如果需要新增或替换一些git库，可以通过修改default.xml来实现，repo会根据配置信息，自动化管理。但直接对default.xml的定制，可能会导致下一次更新项目清单时，与远程default.xml发生冲突。 因此，repo提供了一个种更为灵活的定制方式local_manifests：所有的定制是遵循default.xml规范的，文件名可以自定义，譬如local_manifest.xml, another_local_manifest.xml等， 将定制的XML放在新建的.repo/local_manifests子目录即可。repo会遍历.repo/local_manifests目录下的所有*.xml文件，最终与default.xml合并成一个总的项目清单文件manifest.xml。</p>

<p style="text-indent:2em">local_manifests的修改示例如下：</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ ls .repo/local_manifests</span><br><span class="line">local_manifest.xml</span><br><span class="line">another_local_manifest.xml</span><br><span class="line"></span><br><span class="line">$ cat .repo/local_manifests/local_manifest.xml</span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;manifest&gt;</span><br><span class="line">    &lt;project path=<span class="string">&quot;manifest&quot;</span> name=<span class="string">&quot;tools/manifest&quot;</span> /&gt;</span><br><span class="line">    &lt;project path=<span class="string">&quot;platform-manifest&quot;</span> name=<span class="string">&quot;platform/manifest&quot;</span> /&gt;</span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure>

<h3 id="repo脚本库-repo-repo"><a href="#repo脚本库-repo-repo" class="headerlink" title="repo脚本库(.repo/repo)"></a>repo脚本库(.repo/repo)</h3><p style="text-indent:2em">repo对git命令进行了封装，提供了一套repo的命令集(包括init, sync等)，所有repo管理的自动化实现也都包含在这个git库中。 在第一次初始化的时候，repo会从远程把这个git库下载到本地。</p>

<h3 id="仓库目录和工作目录"><a href="#仓库目录和工作目录" class="headerlink" title="仓库目录和工作目录"></a>仓库目录和工作目录</h3><p style="text-indent:2em">仓库目录保存的是历史信息和修改记录，工作目录保存的是当前版本的信息。一般来说，一个项目的Git仓库目录(默认为.git目录)是位于工作目录下面的，但是Git支持将一个项目的Git仓库目录和工作目录分开来存放。 对于repo管理而言，既有分开存放，也有位于工作目录存放的:</p>

<ul>
<li><p>manifests： 仓库目录有两份拷贝，一份位于工作目录(.repo/manifests)的.git目录下，另一份独立存放于.repo/manifests.git</p>
</li>
<li><p>repo：仓库目录位于工作目录(.repo/repo)的.git目录下</p>
</li>
<li><p>project：所有被管理git库的仓库目录都是分开存放的，位于.repo/projects目录下。同时，也会保留工作目录的.git，但里面所有的文件都是到.repo的链接。这样，即做到了分开存放，也兼容了在工作目录下的所有git命令。</p>
</li>
</ul>
<p style="text-indent:2em">既然.repo目录下保存了项目的所有信息，所有要拷贝一个项目时，只是需要拷贝这个目录就可以了。repo支持从本地已有的.repo中恢复原有的项目。</p>

<h3 id="使用介绍"><a href="#使用介绍" class="headerlink" title="使用介绍"></a>使用介绍</h3><p style="text-indent:2em">repo命令的使用格式如下所示：</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo &lt;COMMAND&gt; &lt;OPTIONS&gt;</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">可选的的有：help、init、sync、upload、diff、download、forall、prune、start、status，每一个命令都有实际的使用场景， 下面先对这些命令做一个简要的介绍：</p>

<h4 id="init"><a href="#init" class="headerlink" title="init"></a>init</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo init -u &lt;URL&gt; [&lt;OPTIONS&gt;]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-u：指定manifests这个远程git库的URL，manifests库是整个项目的清单。</span><br><span class="line">	默认情况，这个git库只包含了default.xml一个文件，其内容可以参见Android的样本</span><br><span class="line">-m， –manifest-name：指定所需要的manifests库中的清单文件。默认情况下，会使用maniftests/default.xml</span><br><span class="line">-b， –manifest-branch：指定manifest.xml文件中的一个版本，也就是俗称的“分支”</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">运行该命令后，会在当前目录下新建一个.repo子目录：</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ tree -L 1 .repo</span><br><span class="line">.repo</span><br><span class="line">├── manifests       <span class="comment"># 一个git库，包含default.xml文件，用于描述repo所管理的git库的信息</span></span><br><span class="line">├── manifests.git   <span class="comment"># manifest这个git库的实体，manifest/.git目录下的所有文件都会链接到该目录</span></span><br><span class="line">├── manifest.xml    <span class="comment"># manifests/default.xml的一个软链接</span></span><br><span class="line">└── repo            <span class="comment"># 一个git库，包含repo运行的所有脚本</span></span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">这些本地的目录是如何生成的呢？执行repo命令时，可以通过--trace参数，来看实际发生了什么。</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ repo --trace init -u <span class="variable">$URL</span> -b <span class="variable">$BRANCH</span> -m <span class="variable">$MANIFEST</span></span><br><span class="line">  --------------------</span><br><span class="line">  mkdir .repo; <span class="built_in">cd</span> .repo</span><br><span class="line">  git <span class="built_in">clone</span> --bare <span class="variable">$URL</span> manifests.git</span><br><span class="line">  git <span class="built_in">clone</span> https://android.googlesource.com/tools/repo</span><br><span class="line">  mkdir -p manifests/.git; <span class="built_in">cd</span> manifests/.git</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> ../../manifests.git/*; <span class="keyword">do</span> ln -s $ı .; <span class="keyword">done</span></span><br><span class="line">  <span class="built_in">cd</span> ..</span><br><span class="line">  git checkout <span class="variable">$BRANCH</span> -- .</span><br><span class="line">  <span class="built_in">cd</span> ..</span><br><span class="line">  ln -s manifests/<span class="variable">$MANIFEST</span> manifest.xml</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">首先，在当前目录下创建.repo子目录，后续所有的操作都在.repo子目录下完成；然后，clone了两个git库，其中一个是-u参数指定的manifests，本地git库的名称是manifest.git;另一个是默认的repo，后面我们会看到这个URL也可以通过参数来指定；接着，创建了manifest/.git目录，里面的所有文件都是到manifests.git这个目录的链接，这个是为了方便对manifests目录执行git命令，紧接着，就会将manifest切换到-b参数指定的分支;最后，在.repo目录下，创建了一个软链接，链接到-m参数制定的清单文件，默认情况是manifests/default.xml。这样，就完成了一个多git库的初始化，之后，就可以执行其他的repo命令了。</p>

<p style="text-indent:2em">我们还介绍几个不常用的参数，在国内下载Android源码时，会用到：<br><font color="#dd0000">–repo-url</font>：指定远程repo库的URL，默认情况是<a target="_blank" rel="noopener" href="https://android.googlesource.com/tools/repo">https://android.googlesource....</a>，但国内访问Google受限，会导致这个库无法下载，从而导致repo init失败，所以可以通过该参数指定一个访问不受限的repo地址<br><font color="#dd0000">–repo-branch</font>：同manifest这个git库一样，repo这个git库也是有版本差异的，可以通过该参数来指定下载repo这个远程git库的特定分支<br><font color="#dd0000">–no-repo-verify</font>：在下载repo库时，会对repo的源码进行检查。通过<font color="#dd0000">–repo-url</font>指定第三方repo库时，可能会导致检查不通过，所以可以配套使用该参数，强制不进行检查</p>

<h4 id="sync"><a href="#sync" class="headerlink" title="sync"></a>sync</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo sync [PROJECT_LIST]</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">下载远程代码，并将本地代码更新到最新，这个过程称为“同步”。如果不使用任何参数，那么会对所有repo管理的进行同步操作；也可以PROJECT_LIST参数，指定若干要同步的PROJECT。 根据本地git库代码不同，同步操作会有不同的行为：</p>

<ul>
<li><p>当本地的git库是第一次触发同步操作时，那么，该命令等价于git clone，会将远程git库直接拷贝到本地</p>
</li>
<li><p>当本地已经触发过同步操作时，那么，该命令等价于git remote update &amp;&amp; git rebase origin/&amp;ltBRANCH&amp;gt，&amp;ltBRANCH&amp;gt就是当前与本地分支所关联的远程分支。代码合并可能会产生冲突，当冲突出现时，只需要解决完冲突，然后执行git rebase –continue即可。</p>
</li>
<li><p>当sync命令正确执行完毕后，本地代码就同远程代码保持一致了。在一些场景下，我们会用到sync命令的一些参数：</p>
<ul>
<li>-j：开启多线程同步操作，这会加快sync命令的执行速度。默认情况下，使用4个线程并发进行sync</li>
<li>-c, –current-branch：只同步指定的远程分支。默认情况下，sync会同步所有的远程分支，当远程分支比较多的时候，下载的代码量就大。使用该参数，可以缩减下载时间，节省本地磁盘空间</li>
<li>-d, –detach：脱离当前的本地分支，切换到manifest.xml中设定的分支。在实际操作中，这个参数很有用，当我们第一次sync完代码后，往往会切换到dev分支进行开发。如果不带该参数使用sync， 则会触发本地的dev分支与manifest设定的远程分支进行合并，这会很可能会导致sync失败</li>
<li>-f, –force-broken：当有git库sync失败了，不中断整个同步操作，继续同步其他的git库</li>
<li>–no-clone-bundle：在向服务器发起请求时，为了做到尽快的响应速度，会用到内容分发网络(CDN, Content Delivery Network)。同步操作也会通过CDN与就近的服务器建立连接， 使用HTTP/HTTPS的$URL/clone.bundle来初始化本地的git库，clone.bundle实际上是远程git库的镜像，通过HTTP直接下载，这会更好的利用网络带宽，加快下载速度。 当服务器不能正常响应下载$URL/clone.bundle，但git又能正常工作时，可以通过该参数，配置不下载$URL/clone.bundle，而是直接通过git下载远程git库</li>
</ul>
</li>
</ul>
<h4 id="upload"><a href="#upload" class="headerlink" title="upload"></a>upload</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo upload [PROJECT_LIST]</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">从字面意思理解，upload就是要上传，将本地的代码上传到远程服务器。upload命令首先会找出本地分支从上一次同步操作以来发生的改动，然后会将这些改动生成Patch文件，上传至Gerrit服务器。 如果没有指定PROJECT_LIST，那么upload会找出所有git库的改动；如果某个git库有多个分支，upload会提供一个交互界面，提示选择其中若干个分支进行上传操作。upload并不会直接将改动合并后远程的git库，而是需要先得到Reviewer批准。Reviewer查看改动内容、决定是否批准合入代码的操作，都是通过Gerrit完成。 Gerrit服务器的地址是在manifests中指定的：打开.repo/manifest.xml，&ltremote&gt这个XML TAG中的review属性值就是Review服务器的URL:</p>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">remote</span> <span class="attr">name</span>=<span class="string">&quot;aosp&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">fetch</span>=<span class="string">&quot;..&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">review</span>=<span class="string">&quot;https://android-review.googlesource.com/&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">Gerrit的实现机制不是本文讨论的内容，但有几个与Gerrit相关的概念，是需要代码提交人员了解的：</p>

<ul>
<li><p>Reviewer：代码审阅人员可以是多个，是需要人为指定的。Gerrit提供网页的操作，可以填选Reviewer。当有多个git库的改动提交时，为了避免在网页上频繁的填选Reviewer这种重复劳动， upload提供了–re, –reviewer参数，在命令行一次性指定Reviewer</p>
</li>
<li><p>Commit-ID：git为了标识每个提交，引入了Commit-ID，是一个SHA-1值，针对当次提交内容的一个Checksum，可以用于验证提交内容的完整性</p>
</li>
<li><p>Change-ID：Gerrit针对每一个Review任务，引入了一个Change-ID，每一个提交上传到Gerrit，都会对应到一个Change-ID， 为了区分于Commit-ID，Gerrit设定Change-ID都是以大写字母 “I” 打头的。 Change-ID与Commit-ID并非一一对应的，每一个Commit-ID都会关联到一个Change-ID，但Change-ID可以关联到多个Commit-ID</p>
</li>
<li><p>Patch-Set：当前需要Review的改动内容。一个Change-ID关联多个Commit-ID，就是通过Patch-Set来表现的，当通过git commit –amend命令修正上一次的提交并上传时， Commit-ID已经发生了变化，但仍可以保持Change-ID不变，这样，在Gerrit原来的Review任务下，就会出现新的Patch-Set。修正多少次，就会出现多少个Patch-Set， 可以理解，只有最后一次修正才是我们想要的结果，所以，在所有的Patch-Set中，只有最新的一个是真正有用的，能够合并的。</p>
</li>
</ul>
<h4 id="download"><a href="#download" class="headerlink" title="download"></a>download</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo download &lt;TARGET&gt; &lt;CHANGE&gt;</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">upload是把改动内容提交到Gerrit，download是从Gerrit下载改动。与upload一样download命令也是配合Gerrit使用的<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&ltTARGET&gt：指定要下载的PROJECT，譬如platform/frameworks/base, platform/packages/apps/Mms<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<font color="#00dd00">&ltCHANGE&gt</font>：指定要下载的改动内容。这个值不是Commit-ID，也不是Change-ID，而是一个Review任务URL的最后几位数字。 譬如，AOSP的一个Review任务<a target="_blank" rel="noopener" href="https://android-review.googlesource.com/#/c/23823/">https://android-review.google...</a>，其中23823就是<font color="#00dd00">&ltCHANGE&gt</font>。</p>

<h4 id="forall"><a href="#forall" class="headerlink" title="forall"></a>forall</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo forall [PROJECT_LIST] -c &lt;COMMAND&gt;</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">对指定的git库执行-c参数制定的命令序列。在管理多个git库时，这是一条非常实用的命令。PROJECT_LIST是以空格区分的，譬如：


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ repo forall frameworks/base packages/apps/Mms -c <span class="string">&quot;git status&quot;</span></span><br><span class="line"><span class="comment">#表示对platform/frameworks/base和platform/packages/apps/Mms同时执行git status命令。 如果没有指定PROJECT_LIST，那么，会对repo管理的所有git库都同时执行命令。</span></span><br></pre></td></tr></table></figure>

</p><p style="text-indent:2em">该命令的还有一些其他参数：</p>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-r, –regex： 通过指定一个正则表达式，只有匹配的PROJECT，才会执行指定的命令</span><br><span class="line">-p：输出结果中，打印PROJECT的名称</span><br></pre></td></tr></table></figure>

<h4 id="prune"><a href="#prune" class="headerlink" title="prune"></a>prune</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo prune [&lt;PROJECT_LIST&gt;]</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">删除指定PROJECT中，已经合并的分支。当在开发分支上代码已经合并到主干分支后，使用该命令就可以删除这个开发分支。随着时间的演进，开发分支会越来越多，在多人开发同一个git库，多开发分支的情况会愈发明显，假设当前git库有如下分支：</p>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* master</span><br><span class="line">  dev_feature1_201501   # 已经合并到master</span><br><span class="line">  dev_feature2_201502   # 已经合并到master</span><br><span class="line">  dev_feature3_201503   # 正在开发中，还有改动记录没有合并到master</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">那么，针对该git库使用prune命令，会删除dev_feature1_201501和dev_feature2_201502。定义删除无用的分支，能够提交团队的开发和管理效率。prune就是删除无用分支的”杀手锏“。</p>

<h4 id="start"><a href="#start" class="headerlink" title="start"></a>start</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo start &lt;BRANCH_NAME&gt; [&lt;PROJECT_LIST&gt;]</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">在指定的PROJECT的上，切换到<font color="#00dd00">&ltBRANCH_NAME&gt</font>指定的分支。可以使用–all参数对所有的PROJECT都执行分支切换操作。 该命令实际上是对git checkout命令的封装，<font color="#00dd00">&ltBRANCH_NAME&gt</font>是自定义的，它将追踪manifest中指定的分支名。当第一次sync完代码后，可以通过start命令将git库切换到开发分支，避免在匿名分支上工作导致丢失改动内容的情况。


</p><h4 id="status"><a href="#status" class="headerlink" title="status"></a>status</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ repo status [&lt;PROJECT_LIST&gt;]</span><br></pre></td></tr></table></figure>

<p style="text-indent:2em">status用于查看多个git库的状态。实际上，是对git status命令的封装。</p>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%BA%8C-git%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%BA%8C-git%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">Android 源码管理之二 git仓库管理工具</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-25 11:14:08 / 修改时间：14:52:38" itemprop="dateCreated datePublished" datetime="2021-06-25T11:14:08+08:00">2021-06-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/.top//1460000023734707" alt="img"></p>
<h3 id="Git-流程图"><a href="#Git-流程图" class="headerlink" title="Git  流程图"></a>Git  流程图</h3><p><img src="/.top//1460000023734708" alt="img"></p>
<ul>
<li><font color="#dd0000"><code>Workspace</code></font>：工作区</li>
<li><font color="#dd0000"><code>Index/Stage</code></font>：暂存区</li>
<li><font color="#dd0000"><code>Repository</code></font>：仓库区(或本地仓库)</li>
<li><font color="#dd0000"><code>Remote</code></font>：远程仓库</li>
</ul>
<h3 id="配置-Git"><a href="#配置-Git" class="headerlink" title="配置 Git"></a>配置 Git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置全局用户</span></span><br><span class="line">$ git config --global user.name <span class="string">&quot;用户名&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;git账号&quot;</span></span><br><span class="line"><span class="comment"># 配置别名</span></span><br><span class="line">$ git config --global alias.cf config</span><br><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.st status</span><br><span class="line">$ git config --global alias.ci commit</span><br><span class="line">$ git config --global alias.br branch -a -vv</span><br><span class="line">$ git config --global alias.rg reflog</span><br><span class="line"><span class="comment"># 这里只是美化 log 的输出，实际使用时可以在 git lg 后面加命令参数，如：git lg -10 显示最近10条提交</span></span><br><span class="line">$ git config --global alias.lg <span class="string">&quot;log --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit&quot;</span></span><br><span class="line"><span class="comment"># 删除全局配置</span></span><br><span class="line">$ git config --global --<span class="built_in">unset</span> alias.xxx</span><br><span class="line">$ git config --global --<span class="built_in">unset</span> user.xxx</span><br></pre></td></tr></table></figure>

<h3 id="查看-Git-信息"><a href="#查看-Git-信息" class="headerlink" title="查看 Git 信息"></a>查看 Git 信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统配置</span></span><br><span class="line">$ git config --list</span><br><span class="line"><span class="comment"># 查看用户配置</span></span><br><span class="line">$ cat ~/.gitconfig</span><br><span class="line"><span class="comment"># 查看当前项目的 git 配置</span></span><br><span class="line">$ cat .git/config</span><br><span class="line"><span class="comment"># 查看暂存区的文件</span></span><br><span class="line">$ git ls-files</span><br><span class="line"><span class="comment"># 查看本地 git 命令历史</span></span><br><span class="line">$ git reflog</span><br><span class="line"><span class="comment"># 查看所有 git 命令</span></span><br><span class="line">$ git --<span class="built_in">help</span> -a</span><br><span class="line"><span class="comment"># 查看当前 HEAD 指向</span></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># git 中 D 向下翻一行  F 向下翻页  B 向上翻页  Q 退出</span></span><br><span class="line"><span class="comment"># 查看提交历史</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">          --grep=<span class="string">&quot;关键字&quot;</span></span><br><span class="line">          --graph</span><br><span class="line">          --all</span><br><span class="line">          --author <span class="string">&quot;username&quot;</span></span><br><span class="line">          --reverse</span><br><span class="line">          -num</span><br><span class="line">          -p</span><br><span class="line">          --before=  1  day/1  week/1  <span class="string">&quot;2019-06-06&quot;</span></span><br><span class="line">          --after= <span class="string">&quot;2019-06-06&quot;</span></span><br><span class="line">          --<span class="built_in">stat</span></span><br><span class="line">          --abbrev-commit</span><br><span class="line">          --pretty=format:<span class="string">&quot;xxx&quot;</span></span><br><span class="line">          </span><br><span class="line"><span class="comment"># oneline -&gt; 将日志记录一行一行的显示</span></span><br><span class="line"><span class="comment"># grep=&quot;关键字&quot; -&gt; 查找日志记录中(commit提交时的注释)与关键字有关的记录</span></span><br><span class="line"><span class="comment"># graph -&gt; 记录图形化显示 ！！！</span></span><br><span class="line"><span class="comment"># all -&gt; 将所有记录都详细的显示出来</span></span><br><span class="line"><span class="comment"># author &quot;username&quot; -&gt; 查找这个作者提交的记录</span></span><br><span class="line"><span class="comment"># reverse -&gt; commit 提交记录顺序翻转</span></span><br><span class="line"><span class="comment"># before -&gt; 查找规定的时间(如:1天/1周)之前的记录</span></span><br><span class="line"><span class="comment"># num -&gt; git log -10 显示最近10次提交 ！！！</span></span><br><span class="line"><span class="comment"># stat -&gt; 显示每次更新的文件修改统计信息，会列出具体文件列表 ！！！</span></span><br><span class="line"><span class="comment"># abbrev-commit -&gt; 仅显示 SHA-1 的前几个字符，而非所有的 40 个字符 ！！！</span></span><br><span class="line"><span class="comment"># pretty=format:&quot;xxx&quot; -&gt;  可以定制要显示的记录格式 ！！！</span></span><br><span class="line"><span class="comment"># p -&gt; 显示每次提交所引入的差异(按 补丁 的格式输出)！！！</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/06/21/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E9%9B%B6-%E5%BA%8F%E8%A8%80%E5%92%8C%E7%9B%AE%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/21/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E9%9B%B6-%E5%BA%8F%E8%A8%80%E5%92%8C%E7%9B%AE%E5%BD%95/" class="post-title-link" itemprop="url">Android 源码管理之零 序言和目录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-21 17:47:43" itemprop="dateCreated datePublished" datetime="2021-06-21T17:47:43+08:00">2021-06-21</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-25 14:52:38" itemprop="dateModified" datetime="2021-06-25T14:52:38+08:00">2021-06-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li><p><a target="_blank" rel="noopener" href="https://ljw-luojianwei.github.io/2021/06/17/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%B8%80-AOSP%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/">01.AOSP镜像下载</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ljw-luojianwei.github.io/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%BA%8C-git%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">02.git仓库管理工具</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ljw-luojianwei.github.io/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E4%B8%89-repo%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">03.repo项目管理工具</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ljw-luojianwei.github.io/2021/06/25/Android-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E4%B9%8B%E5%9B%9B-Gerrit%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%A0%B8%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/">04.Gerrit代码审核服务器搭建与使用</a></p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://luojianwei.top/2021/06/17/Android-%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E5%8D%81%E4%BA%8C-PackageManagerService-%E5%9B%9B-APK%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="罗建伟的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗建伟的个人主页">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/17/Android-%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E5%8D%81%E4%BA%8C-PackageManagerService-%E5%9B%9B-APK%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/" class="post-title-link" itemprop="url">Android 系统启动十二 PackageManagerService(四)APK安装流程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-17 17:19:21 / 修改时间：17:21:20" itemprop="dateCreated datePublished" datetime="2021-06-17T17:19:21+08:00">2021-06-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/System/" itemprop="url" rel="index"><span itemprop="name">System</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/home/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/home/">1</a><span class="space">&hellip;</span><a class="page-number" href="/home/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/home/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/home/page/7/">7</a><a class="extend next" rel="next" href="/home/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">罗建伟的个人博客</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
